<SideBarView>:
    canvas: 
        Color:
            rgba: app.theme_manager.secondary_bg_color
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [20,20,20,20]
    orientation: 'vertical'
    
    spacing: "30dp"

    ScrollView:
        size_hint: 1, 1
        BoxLayout:
            orientation: 'vertical'
            size_hint_y: None
            height: self.minimum_height
            spacing: "20dp"
            padding: "12dp"
            BoxLayout:
                orientation: 'horizontal'
                size_hint_x: 1
                size_hint_y: None
                height: self.minimum_height 
                spacing: "10dp"

                FloatLayout:
                    canvas:
                        Color: 
                            rgba: 1,1,1,1
                        RoundedRectangle:
                            source: 'assets/logo.jpg'
                            size: self.size
                            pos: self.pos
                            radius: [15,15,15,15]
                    size_hint: (.25, None)
                    height: self.width

                BoxLayout:
                    orientation: 'vertical'
                    size_hint_x: 1
                    size_hint_y: None
                    height: self.minimum_height
                    pos_hint: {'center_y': .5}

                    Label:
                        text: "Chronos Simulator"
                        font_size: 18
                        text_size: self.size
                        size_hint_y: None
                        height: self.texture_size[1]
                        halign: 'left'
                        font_name: 'Inter-Bold'

                    Label:
                        text: "Version 1.0"
                        font_size: 13
                        text_size: self.size
                        size_hint_y: None
                        height: self.texture_size[1]
                        halign: 'left'
                        font_name: 'Inter'

            MDDivider:
                size_hint_x: 1
                pos_hint: {'center_x': .5}
                color: app.theme_manager.bg_border_color
                divider_width:2

            SimulationSettingsGroup:
                id: grid_settings_group

            MDDivider:
                size_hint_x: 1
                pos_hint: {'center_x': .5}
                color: app.theme_manager.bg_border_color
                divider_width:2

            GridSettingsGroup:
                id: grid_settings_group

            MDDivider:
                size_hint_x: 1
                pos_hint: {'center_x': .5}
                color: app.theme_manager.bg_border_color
                divider_width:2

            NodeSettingsGroup:
                id: node_settings_group

            MDDivider:
                size_hint_x: 1
                pos_hint: {'center_x': .5}
                color: app.theme_manager.bg_border_color
                divider_width:2

            MessageSettingsGroup:
                id: message_settings_group

            MDDivider:
                size_hint_x: 1
                pos_hint: {'center_x': .5}
                color: app.theme_manager.bg_border_color
                divider_width:2

            MessageSpawnerSettingsGroup:
                id: message_spawner_settings_group


<SimulationSettingsGroup>:
    orientation: 'vertical'
    size_hint: 1, None
    height: self.minimum_height
    spacing: "10dp"

    Label:
        text: "Simulation Settings"
        font_size: 20
        text_size: self.size
        size_hint: 1, None
        height: self.texture_size[1]
        halign: 'left'
        font_name: 'Inter-Bold'
        color: app.theme_manager.text_color

    BoxLayout:
        size_hint: 1, None
        height:self.minimum_height
        spacing: "10dp"
        orientation: "horizontal"

        Label:
            text: "Node count :"
            font_size: 16
            text_size: None, None
            size_hint: None, None
            size: self.texture_size
            halign: 'left'
            font_name: 'Inter-Medium'
            color: app.theme_manager.text_color

        HelpIndicator:
            help_text: "Number of nodes in the simulation"
            pos_hint: {"center_y":.5}

    NumericInput:
        id: input
        stored_value: root.node_count
        default_value: 1
        min_value: 1
        max_value: 1000000000
        size_hint: 1, None
        on_stored_value: root.update_node_count(self.stored_value)

    BoxLayout:
        size_hint: 1, None
        height:self.minimum_height
        spacing: "10dp"
        orientation: "horizontal"

        Label:
            text: "Step count :"
            font_size: 16
            text_size: None, None
            size_hint: None, None
            size: self.texture_size
            halign: 'left'
            font_name: 'Inter-Medium'
            color: app.theme_manager.text_color

        HelpIndicator:
            help_text: "Number of steps in the simulation"
            pos_hint: {"center_y":.5}

    NumericInput:
        id: input
        stored_value: root.step_count
        default_value: 1
        min_value: 1
        max_value: 1000000000
        size_hint: 1, None
        on_stored_value: root.update_step_count(self.stored_value)

    BoxLayout:
        size_hint: 1, None
        height:self.minimum_height
        spacing: "10dp"
        orientation: "horizontal"

        Label:
            text: "Simulation Count:"
            font_size: 16
            text_size: None, None
            size_hint: None, None
            size: self.texture_size
            halign: 'left'
            font_name: 'Inter-Medium'
            color: app.theme_manager.text_color

        HelpIndicator:
            help_text: "The number of simulations to run in parallel. This is used if you want to reduce the amount of bias and variance introduced in the system."
            pos_hint: {"center_y":.5}

    NumericInput:
        id: input
        stored_value: root.simulation_count
        default_value: 1
        min_value: 1
        max_value: 100
        size_hint: 1, None
        on_stored_value: root.update_simulation_count(self.stored_value)


    BoxLayout:
        size_hint: 1, None
        height:self.minimum_height
        spacing: "10dp"
        orientation: "horizontal"

        Label:
            text: "Simulation Delay:"
            font_size: 16
            text_size: None, None
            size_hint: None, None
            size: self.texture_size
            halign: 'left'
            font_name: 'Inter-Medium'
            color: app.theme_manager.text_color

        HelpIndicator:
            help_text: "The delay between each simulation step in seconds"
            pos_hint: {"center_y":.5}

    NumericInput:
        id: input
        stored_value: root.simulation_delay
        default_value: 1
        min_value: 1
        max_value: 100
        size_hint: 1, None
        on_stored_value: root.update_simulation_delay(self.stored_value)


                
<GridSettingsGroup>:
    orientation: 'vertical'
    size_hint: 1, None
    height: self.minimum_height
    spacing: "10dp"

    Label:
        text: "Grid settings"
        font_size: 20
        text_size: self.size
        size_hint: 1, None
        height: self.texture_size[1]
        halign: 'left'
        font_name: 'Inter-Bold'
        color: app.theme_manager.text_color

    Label:
        text: "Grid type :"
        font_size: 16
        text_size: self.size
        size_hint: 1,None
        height: self.texture_size[1]
        halign: 'left'
        font_name: 'Inter-Medium'
        color: app.theme_manager.text_color
        padding: "0dp", "10dp", "0dp", "5dp"

    CustomDropDown:
        id: grid_type_selector
        size_hint: 1, None

    Label:
        id: grid_type_description
        text: ""
        font_size: 13
        halign: 'left'
        font_name: 'Inter'
        color: app.theme_manager.secondary_text_color
        text_size: self.parent.size[0], None
        size_hint: 1, None
        height: self.texture_size[1]

    BoxLayout:
        id: settings_view
        orientation: "vertical"
        spacing: "5dp"
        size_hint: 1, None
        height: self.minimum_height

<NodeSettingsGroup>:
    orientation: 'vertical'
    size_hint: 1, None
    height: self.minimum_height
    spacing: "10dp"

    Label:
        text: "Node settings"
        font_size: 20
        text_size: self.size
        size_hint: 1, None
        height: self.texture_size[1]
        halign: 'left'
        font_name: 'Inter-Bold'
        color: app.theme_manager.text_color

    Label:
        text: "Node type :"
        font_size: 16
        text_size: self.size
        size_hint: 1,None
        height: self.texture_size[1]
        halign: 'left'
        font_name: 'Inter-Medium'
        color: app.theme_manager.text_color
        padding: "0dp", "10dp", "0dp", "5dp"

    CustomDropDown:
        id: node_type_selector
        size_hint: 1, None

    Label:
        id: node_type_description
        text: ""
        font_size: 13
        halign: 'left'
        font_name: 'Inter'
        color: app.theme_manager.secondary_text_color
        text_size: self.parent.size[0], None
        size_hint: 1, None
        height: self.texture_size[1]

    BoxLayout:
        id: settings_view
        orientation: "vertical"
        spacing: "5dp"
        size_hint: 1, None
        height: self.minimum_height

<MessageSettingsGroup>:
    orientation: 'vertical'
    size_hint: 1, None
    height: self.minimum_height
    spacing: "10dp"

    Label:
        text: "Message settings"
        font_size: 20
        text_size: self.size
        size_hint: 1, None
        height: self.texture_size[1]
        halign: 'left'
        font_name: 'Inter-Bold'
        color: app.theme_manager.text_color

    BoxLayout:
        id: settings_view
        orientation: "vertical"
        spacing: "5dp"
        size_hint: 1, None
        height: self.minimum_height

<MessageSpawnerSettingsGroup>:
    orientation: 'vertical'
    size_hint: 1, None
    height: self.minimum_height
    spacing: "10dp"

    Label:
        text: "Message spawner settings"
        font_size: 20
        text_size: self.size
        size_hint: 1, None
        height: self.texture_size[1]
        halign: 'left'
        font_name: 'Inter-Bold'
        color: app.theme_manager.text_color

    Label:
        text: "Message spawner type :"
        font_size: 16
        text_size: self.size
        size_hint: 1,None
        height: self.texture_size[1]
        halign: 'left'
        font_name: 'Inter-Medium'
        color: app.theme_manager.text_color
        padding: "0dp", "10dp", "0dp", "5dp"

    CustomDropDown:
        id: message_spawner_type_selector
        size_hint: 1, None

    Label:
        id: message_spawner_type_description
        text: ""
        font_size: 13
        halign: 'left'
        font_name: 'Inter'
        color: app.theme_manager.secondary_text_color
        text_size: self.parent.size[0], None
        size_hint: 1, None
        height: self.texture_size[1]

    BoxLayout:
        id: settings_view
        orientation: "vertical"
        spacing: "5dp"
        size_hint: 1, None
        height: self.minimum_height
            



        